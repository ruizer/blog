(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{360:function(e,s){e.exports="data:image/png;base64,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"},395:function(e,s,a){"use strict";a.r(s);var n=a(42),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"如何写一个命令行工具-npm-自动生成vue组件模板"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何写一个命令行工具-npm-自动生成vue组件模板"}},[e._v("#")]),e._v(" 如何写一个命令行工具：NPM 自动生成VUE组件模板")]),e._v(" "),n("blockquote",[n("p",[e._v("命令行工具，即 Cli(command-line interface)。是在图形用户界面得到普及之前使用最为广泛的用户界面，它通常不支持鼠标，用户通过键盘输入指令，计算机接收到指令后，予以执行。")])]),e._v(" "),n("h2",{attrs:{id:"_1-介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍"}},[e._v("#")]),e._v(" 1 介绍")]),e._v(" "),n("p",[e._v("使用"),n("code",[e._v("vue")]),e._v("组件模板开发的项目每次新建组件的时候，都需要新增"),n("code",[e._v(".vue")]),e._v("文件，在这个文件当中写入"),n("code",[e._v("template")]),e._v("、"),n("code",[e._v("script")]),e._v("、"),n("code",[e._v("style")]),e._v("这些内容，并且每个人命名风格不统一，造成了很多烦恼。\n本文就是通过"),n("code",[e._v("node")]),e._v("来帮助我们写一个"),n("code",[e._v("命令行工具")]),e._v("，自动去执行这些重复性工作，并保持同一种风格：\n"),n("img",{attrs:{src:a(360),alt:"image"}})]),e._v(" "),n("p",[e._v("项目地址："),n("a",{attrs:{href:"https://github.com/ruizer/vue-style-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-style-cli"),n("OutboundLink")],1),e._v("，欢迎"),n("a",{attrs:{href:"https://github.com/ruizer/vue-style-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("star"),n("OutboundLink")],1),e._v("。有什么问题或者建议可以在"),n("a",{attrs:{href:"https://github.com/ruizer/vue-style-cli/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("issues"),n("OutboundLink")],1),e._v("提问")]),e._v(" "),n("h2",{attrs:{id:"_2-创建新项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建新项目"}},[e._v("#")]),e._v(" 2 创建新项目")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("$ mkdir vue-style-cli\n$ cd vue-style-cli\n$ npm init\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br")])]),n("p",[e._v("最后我们会得到一个"),n("code",[e._v("vue-style-cli")]),e._v("文件夹，并在"),n("code",[e._v("vue-style-cli")]),e._v("文件夹初始化了一个"),n("code",[e._v("package.json")]),e._v("文件。")]),e._v(" "),n("h2",{attrs:{id:"新建可执行文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建可执行文件"}},[e._v("#")]),e._v(" 新建可执行文件")]),e._v(" "),n("p",[e._v("我们在"),n("code",[e._v("vue-style-cli")]),e._v("文件夹下新建"),n("code",[e._v("index.js")]),e._v("文件，并在文件头部加上以下代码：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("#!/usr/bin/env node\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("最后，制定"),n("code",[e._v("index.js")]),e._v("文件为此项目的可执行文件，在"),n("code",[e._v("package.json")]),e._v("文件中加入：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('"bin": {\n    "vs": "index.js"\n },\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br")])]),n("h2",{attrs:{id:"_3-开发调试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-开发调试"}},[e._v("#")]),e._v(" 3 开发调试")]),e._v(" "),n("p",[e._v("我们全局安装一个cli包过后，可以全局调用这个命令行工具。那我们开发的时候怎么调用呢？答案很简单，使用"),n("code",[e._v("npm link")]),e._v("命令。")]),e._v(" "),n("blockquote",[n("p",[e._v("在"),n("code",[e._v("npm")]),e._v("包下执行 "),n("code",[e._v("npm link")]),e._v("，会创建一个连接符号，连接全局文件夹。这样就能进行开发调试了。")]),e._v(" "),n("p",[e._v("官方文档：https://docs.npmjs.com/cli/link")])]),e._v(" "),n("h2",{attrs:{id:"_4-命令行辅助工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-命令行辅助工具"}},[e._v("#")]),e._v(" 4 命令行辅助工具")]),e._v(" "),n("p",[e._v("在写命令行工具的时候，会使用一些辅助工具让我们的开发更高效。以下是本项目使用的一些辅助工具：")]),e._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/tj/commander.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("commander.js"),n("OutboundLink")],1),e._v("：帮助参数解析")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/chalk/chalk",target:"_blank",rel:"noopener noreferrer"}},[e._v("chalk"),n("OutboundLink")],1),e._v("：命令行输出自定义颜色")])]),e._v(" "),n("p",[e._v("当然还有其他比较有效的辅助工具：")]),e._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/SBoudrias/Inquirer.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Inquirer.js"),n("OutboundLink")],1),e._v("：常见交互式命令行")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/sindresorhus/ora",target:"_blank",rel:"noopener noreferrer"}},[e._v("ora"),n("OutboundLink")],1),e._v("：命令行动画效果")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/flipxfx/download-git-repo",target:"_blank",rel:"noopener noreferrer"}},[e._v("download-git-repo"),n("OutboundLink")],1),e._v("：下载并提取 git 仓库")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/sindresorhus/log-symbols",target:"_blank",rel:"noopener noreferrer"}},[e._v("log-symbols"),n("OutboundLink")],1),e._v("：可以在终端上显示出 √ 或 × 等的图标。")])]),e._v(" "),n("h2",{attrs:{id:"_5-vue-style-cli主要代码逻辑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-vue-style-cli主要代码逻辑"}},[e._v("#")]),e._v(" 5 vue-style-cli主要代码逻辑")]),e._v(" "),n("h3",{attrs:{id:"_5-1-命令行主要代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-命令行主要代码"}},[e._v("#")]),e._v(" 5.1 命令行主要代码")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("program\n  .command('create <name>')\n  .description('create a vue component with directory')\n  .alias('c')\n  .option('-p, --path [path]', 'real path; Please use relative paths')\n  .option('-o,--only', 'create only component without directory')\n  .option('-s,--scoped', 'Scoped CSS')\n  .option('-l, --lang [lang]', 'CSS Modules')\n  .action((name, cmd) => {\n    try {\n      cmd.only\n        ? generateOnlyComponent(\n            name,\n            getRealPath(cmd.path),\n            cmd.lang,\n            cmd.scoped,\n          )\n        : generateComponent(name, getRealPath(cmd.path), cmd.lang, cmd.scoped);\n    } catch (e) {\n      console.log(e);\n    }\n  });\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br")])]),n("p",[e._v("主要就只有一个"),n("code",[e._v("create")]),e._v("命令，带有一些"),n("code",[e._v("option")]),e._v("参数可选择：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("--path：文件创建地址(相对地址)，没有则在当前命令执行文件夹下创建\n--only：是否只创建单独的`.vue`组件，默认创建带有文件夹风格\n--scoped：`.vue`组件中CSS作用域\n--lang：`.vue`组件中CSS模块，默认没有\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("p",[e._v("例子：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("e:\\demo>vs c vsDemo -p ./src/views\n在E:\\demo目录下执行vs c vsDemo -p ./src/views 命令，最终会在E:\\demo\\src\\views下生成vs-demo文件夹，vs-demo文件夹里面含有index.js和vs-demo.vue两个文件\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("h3",{attrs:{id:"_5-2-文件生成代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-文件生成代码"}},[e._v("#")]),e._v(" 5.2 文件生成代码")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("generateOnlyComponent：生成单独的.vue文件\ngenerateComponent：生成含有文件夹格式的.vue文件\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("p",[e._v("这里主要介绍"),n("code",[e._v("generateComponent")]),e._v("，因为本质上"),n("code",[e._v("generateComponent")]),e._v("与"),n("code",[e._v("generateOnlyComponent")]),e._v("逻辑差不多")]),e._v(" "),n("h4",{attrs:{id:"_5-2-1-使用mkdirp与tpl-apply"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-使用mkdirp与tpl-apply"}},[e._v("#")]),e._v(" 5.2.1 使用mkdirp与tpl_apply")]),e._v(" "),n("p",[e._v("本作者为了快速开发(图方便)，使用了"),n("code",[e._v("mkdirp")]),e._v("与"),n("code",[e._v("tpl_apply")]),e._v("这两个库进行文件夹和文件的生成。")]),e._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/substack/node-mkdirp",target:"_blank",rel:"noopener noreferrer"}},[e._v("mkdirp"),n("OutboundLink")],1),e._v("：生成文件夹")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/i5ting/tpl_apply",target:"_blank",rel:"noopener noreferrer"}},[e._v("tpl_apply"),n("OutboundLink")],1),e._v("： 基于"),n("a",{attrs:{href:"https://github.com/wycats/handlebars.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("handlebars.js"),n("OutboundLink")],1),e._v("实现文件写入")])]),e._v(" "),n("h4",{attrs:{id:"_5-2-2-代码逻辑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-2-代码逻辑"}},[e._v("#")]),e._v(" 5.2.2 代码逻辑")]),e._v(" "),n("p",[e._v("1、检查当前路径下是否存在此文件夹，若存在，报错，否则进行下一步")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("    let exists = false;\n    try {\n      fs.accessSync(filePath);\n      exists = true;\n    } catch (error) {}\n    if (exists) {\n      message.error(`Unable to create: ${filePath} folder already exists`);\n      return resolve();\n    }\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("2、在当前路径下创建文件夹，并在此文件夹下新增"),n("code",[e._v(".js")]),e._v("和"),n("code",[e._v(".vue")]),e._v("文件")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 创建文件夹\n    mkdirp(filePath, err => {\n      if (err) {\n        console.error(err);\n        return resolve();\n      }\n\n      const data = {\n        kebabCaseName: name,\n        camelCaseName: firstUpperCase(getCamelCase(name)),\n        lang,\n        scoped: scoped ? ' scoped' : '',\n      };\n      const tplPath = path.join(__dirname, '../templates');\n      const tpls = [\n        { source: 'vue.tpl', dest: `${name}.vue` },\n        { source: 'index.tpl', dest: 'index.js' },\n      ];\n\n      tpls.forEach(({ source, dest }) => {\n        tplApply.tpl_apply(\n          path.join(tplPath, source),\n          data,\n          path.join(filePath, dest),\n        );\n      });\n\n      message.success(`generate ${filePath} success`);\n      resolve();\n    });\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br"),n("span",{staticClass:"line-number"},[e._v("24")]),n("br"),n("span",{staticClass:"line-number"},[e._v("25")]),n("br"),n("span",{staticClass:"line-number"},[e._v("26")]),n("br"),n("span",{staticClass:"line-number"},[e._v("27")]),n("br"),n("span",{staticClass:"line-number"},[e._v("28")]),n("br"),n("span",{staticClass:"line-number"},[e._v("29")]),n("br"),n("span",{staticClass:"line-number"},[e._v("30")]),n("br")])]),n("p",[e._v("3、模板文件")]),e._v(" "),n("p",[e._v("vue.tpl")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<template>\n  <div class="{{kebabCaseName}}"></div>\n</template>\n\n<script>\nexport default {\n  name: "{{kebabCaseName}}"\n};\n<\/script>\n\n<style{{#if lang}} lang="{{lang}}"{{/if}}{{scoped}}>\n</style>\n\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("p",[e._v("index.tpl")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("import {{camelCaseName}} from './{{kebabCaseName}}';\n\nexport default {{camelCaseName}};\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h2",{attrs:{id:"_6-发布"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-发布"}},[e._v("#")]),e._v(" 6 发布")]),e._v(" "),n("p",[e._v("发布包到npm非常简单，只需要一条命令：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm publish\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("详细可见："),n("RouterLink",{attrs:{to:"/2019/04/30/publish-npm-package/"}},[e._v("如何发布自己的NPM包？")])],1),e._v(" "),n("p",[e._v("本文完， 感谢阅读。")])])}),[],!1,null,null,null);s.default=t.exports}}]);
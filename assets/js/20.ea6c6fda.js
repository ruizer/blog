(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{381:function(v,_,t){"use strict";t.r(_);var e=t(42),a=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"javascript相关知识点集锦-三-类型转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#javascript相关知识点集锦-三-类型转换"}},[v._v("#")]),v._v(" JavaScript相关知识点集锦(三)：类型转换")]),v._v(" "),t("p",[v._v("首先，类型转换是我们经常遇到的知识点，一般在 JS 类型转换当中只有三种情况：")]),v._v(" "),t("blockquote",[t("p",[v._v("这是我很久以前写的文章，如果有什么不对的地方请指出，原文：https://ruizer.github.io/2019/07/15/javascript-basis-javascript-basis-类型转换/")])]),v._v(" "),t("ul",[t("li",[v._v("转换成布尔值")]),v._v(" "),t("li",[v._v("转换成数字")]),v._v(" "),t("li",[v._v("转换成字符串")])]),v._v(" "),t("p",[v._v("所有的转换规则都在以下表格：\n")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("原始值")]),v._v(" "),t("th",[v._v("转换目标")]),v._v(" "),t("th",[v._v("结果")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("number")]),v._v(" "),t("td",[v._v("布尔值")]),v._v(" "),t("td",[v._v("除了0、-0、NaN都为true")])]),v._v(" "),t("tr",[t("td",[v._v("string")]),v._v(" "),t("td",[v._v("布尔值")]),v._v(" "),t("td",[v._v("除了空字符串('')都为true")])]),v._v(" "),t("tr",[t("td",[v._v("undefined、null")]),v._v(" "),t("td",[v._v("布尔值")]),v._v(" "),t("td",[v._v("false")])]),v._v(" "),t("tr",[t("td",[v._v("引用类型")]),v._v(" "),t("td",[v._v("布尔值")]),v._v(" "),t("td",[v._v("true")])]),v._v(" "),t("tr",[t("td",[v._v("number")]),v._v(" "),t("td",[v._v("字符串")]),v._v(" "),t("td",[v._v("8 => '8'")])]),v._v(" "),t("tr",[t("td",[v._v("Boolean、函数、Symbol")]),v._v(" "),t("td",[v._v("字符串")]),v._v(" "),t("td",[v._v("true => 'true'")])]),v._v(" "),t("tr",[t("td",[v._v("数组")]),v._v(" "),t("td",[v._v("字符串")]),v._v(" "),t("td",[v._v("[1, 2] => '1, 2'")])]),v._v(" "),t("tr",[t("td",[v._v("对象")]),v._v(" "),t("td",[v._v("字符串")]),v._v(" "),t("td",[v._v("{} => '[object Object]'")])]),v._v(" "),t("tr",[t("td",[v._v("string")]),v._v(" "),t("td",[v._v("数字")]),v._v(" "),t("td",[v._v("'8' => 8，'a' => NaN")])]),v._v(" "),t("tr",[t("td",[v._v("数组")]),v._v(" "),t("td",[v._v("数字")]),v._v(" "),t("td",[v._v("空数组为0，存在一个元素且为数字转成数字，其它情况NaN")])]),v._v(" "),t("tr",[t("td",[v._v("null")]),v._v(" "),t("td",[v._v("数字")]),v._v(" "),t("td",[v._v("0")])]),v._v(" "),t("tr",[t("td",[v._v("除了数组的引用类型")]),v._v(" "),t("td",[v._v("数字")]),v._v(" "),t("td",[v._v("NaN")])]),v._v(" "),t("tr",[t("td",[v._v("Symbol")]),v._v(" "),t("td",[v._v("数字")]),v._v(" "),t("td",[v._v("抛错")])])])]),v._v(" "),t("h2",{attrs:{id:"转boolean"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#转boolean"}},[v._v("#")]),v._v(" 转Boolean")]),v._v(" "),t("p",[v._v("在条件判断时，除了"),t("code",[v._v("0")]),v._v("， "),t("code",[v._v("-0")]),v._v("， "),t("code",[v._v("NaN")]),v._v("，"),t("code",[v._v("undefined")]),v._v("，"),t("code",[v._v("null")]),v._v("，"),t("code",[v._v("false")]),v._v("，"),t("code",[v._v("''")]),v._v("，\n其它所以值都为true，包括对象。")]),v._v(" "),t("h2",{attrs:{id:"对象转原始类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对象转原始类型"}},[v._v("#")]),v._v(" 对象转原始类型")]),v._v(" "),t("p",[v._v("对象在转类型的时候，会调用内置的 "),t("code",[v._v("Symbol.toPrimitive")]),v._v(" 函数，大概的逻辑是这样的：")]),v._v(" "),t("p",[v._v("如果已经是原始类型了，那就不需要转换了")]),v._v(" "),t("p",[v._v("调用 "),t("code",[v._v("x.valueOf()")]),v._v("，如果转换为基础类型，就返回转换的值")]),v._v(" "),t("p",[v._v("调用 "),t("code",[v._v("x.toString()")]),v._v("，如果转换为基础类型，就返回转换的值")]),v._v(" "),t("p",[v._v("如果都没有返回原始类型，就会报错")]),v._v(" "),t("p",[v._v("当然，你也可以重写 "),t("code",[v._v("Symbol.toPrimitive")]),v._v("，该方法在转原型类型时优先级最高")]),v._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("let obj = {\n    valueOf() {\n        return 1\n    },\n    toString() {\n        return '2'\n    },\n    [Symbol.toPrimitive]() {\n        return 3\n    }\n}\n\nconsole.log(1 + obj) // 4\n")])]),v._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[v._v("1")]),t("br"),t("span",{staticClass:"line-number"},[v._v("2")]),t("br"),t("span",{staticClass:"line-number"},[v._v("3")]),t("br"),t("span",{staticClass:"line-number"},[v._v("4")]),t("br"),t("span",{staticClass:"line-number"},[v._v("5")]),t("br"),t("span",{staticClass:"line-number"},[v._v("6")]),t("br"),t("span",{staticClass:"line-number"},[v._v("7")]),t("br"),t("span",{staticClass:"line-number"},[v._v("8")]),t("br"),t("span",{staticClass:"line-number"},[v._v("9")]),t("br"),t("span",{staticClass:"line-number"},[v._v("10")]),t("br"),t("span",{staticClass:"line-number"},[v._v("11")]),t("br"),t("span",{staticClass:"line-number"},[v._v("12")]),t("br"),t("span",{staticClass:"line-number"},[v._v("13")]),t("br")])]),t("h2",{attrs:{id:"四则运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四则运算符"}},[v._v("#")]),v._v(" 四则运算符")]),v._v(" "),t("p",[v._v("首先，先来说下加法运算符，会有两个特点：")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("其中一方是字符串，那么就会把另一方也转为字符串")])]),v._v(" "),t("li",[t("p",[v._v("如果一方不是字符串或者数字，那么会将它转成字符串或者数字")])])]),v._v(" "),t("p",[v._v("然后就是非加法运算符，只要其中一方是数字，那么另一方就会被转为数字")]),v._v(" "),t("h2",{attrs:{id:"比较运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#比较运算符"}},[v._v("#")]),v._v(" 比较运算符")]),v._v(" "),t("ol",[t("li",[v._v("如果是对象，就通过 "),t("code",[v._v("Symbol.toPrimitive")]),v._v(" 转换对象")]),v._v(" "),t("li",[v._v("如果是字符串，就通过 "),t("code",[v._v("unicode")]),v._v(" 字符索引来比较")])]),v._v(" "),t("h2",{attrs:{id:"vs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vs"}},[v._v("#")]),v._v(" == vs ===")]),v._v(" "),t("p",[v._v("对于 "),t("code",[v._v("==")]),v._v(" 来说，如果对比双方的类型不一样的话，就会进行类型转换，而 "),t("code",[v._v("===")]),v._v(" 不会")]),v._v(" "),t("p",[v._v("假如我们需要对比 "),t("code",[v._v("x")]),v._v(" 和 "),t("code",[v._v("y")]),v._v(" 的值是否相等，就会进行如下流程：")]),v._v(" "),t("ol",[t("li",[v._v("首先判断两者类型是否相等，是的话比较大小")]),v._v(" "),t("li",[v._v("类型不相同的就会进行类型转换")]),v._v(" "),t("li",[v._v("会先判断是否在对比 "),t("code",[v._v("undefined")]),v._v(" 和 "),t("code",[v._v("null")]),v._v("，是的话就会返回 "),t("code",[v._v("true")])]),v._v(" "),t("li",[v._v("判断两者类型是否为 "),t("code",[v._v("string")]),v._v(" 和 "),t("code",[v._v("number")]),v._v("，是的话就会将字符串转换成 "),t("code",[v._v("number")])]),v._v(" "),t("li",[v._v("判断其中一方是否为 "),t("code",[v._v("boolean")]),v._v("，是的话就把 "),t("code",[v._v("boolean")]),v._v(" 转成 "),t("code",[v._v("number")]),v._v(" 再进行判断")]),v._v(" "),t("li",[v._v("判断其中一方是否为 "),t("code",[v._v("object")]),v._v(" 且另一方为 "),t("code",[v._v("string")]),v._v("、"),t("code",[v._v("number")]),v._v(" 或者 "),t("code",[v._v("symbol")]),v._v("，是的话就会把 "),t("code",[v._v("object")]),v._v(" 转为原始类型再进行判断")])]),v._v(" "),t("p",[v._v("本文完， 感谢阅读。")])])}),[],!1,null,null,null);_.default=a.exports}}]);